DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'VidzyCodeFirstExercise.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201901190055239_InitialModel'
BEGIN
    CREATE TABLE [dbo].[Genres] (
        [Id] [tinyint] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        CONSTRAINT [PK_dbo.Genres] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Videos] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [ReleaseDate] [datetime] NOT NULL,
        CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[VideoGenres] (
        [Video_Id] [int] NOT NULL,
        [Genre_Id] [tinyint] NOT NULL,
        CONSTRAINT [PK_dbo.VideoGenres] PRIMARY KEY ([Video_Id], [Genre_Id])
    )
    CREATE INDEX [IX_Video_Id] ON [dbo].[VideoGenres]([Video_Id])
    CREATE INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]([Genre_Id])
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201901190055239_InitialModel', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D6CACFA50DEC5D649DA408BAB18338097A0B1869EC10A52895A4027B8B3E590F7DA4BE4287FA172959B29B0DDA2240609333C3F9F9389C19FFF5C79FE30FEB90392F20248DF8C43D1A1DBA0E703F0A285F4DDC442DDF7DEF7E78FFF557E38B205C3B0F05DD89A6434E2E27EEB352F1A9E749FF1942224721F54524A3A51AF951E89120F28E0F0F7FF08E8E3C40112ECA729CF16DC2150D21FD825FA711F721560961D751004CE6EBB8B348A53A3312828C890F13F781069F375324BBA442AA8B35089F4A709D3346096AB300B6741DC279A488425D4FEF252C9488F86A11E30261779B18906E4998E64A6D38ADC8879A7378ACCDF12AC642949F4815853B0A3C3AC9FDE399EC7B79D92DFD871EBC404FAB8DB63AF5E2C4FD11B840CBCD934EA74C68AA2E0F8F52BE03A77DF7A0C4064248FF1D38D384A944C08443A2046107CE4DF2C4A8FF136CEEA25F804F78C2585D53D415F71A0BB87423A21884DADCC232D7FF2A701DAFC9E7998C255B8D2733EEE346A1F1333C9B3C312871E06D65E7F8BF108060C2BBE13AD764FD09F84A3D4F5CFCE83A97740D41B1924BBDE714AF12322991D887CCC80B5DA5BE378E431743245DE71658BA2D9F699C217B946E3DA6A140824B1185B7112B58F2F5C73B2256A050E1A865731125C23794197B154AB6622795B4077652BEFF3C76AEB83A396E014FCD110B1509404F83200A821BA21408AE6540EACA3EA0CDBE08D08C43105640249C13559EA53FDFD170C0CDE8046D81C97D415BE0B215B405A28780F64CCAC8A7A90E75D416E737CDB9E081B34D992C12A511180D44268D118B78F2C4FDCEF24F87C0F24A5602F33CBC55E0D8AB5963DF4C7C3715A108B6CAD0CFE922AC55CB2DC5A730BFA832478AA9BB16BA006584B4F2735375CBF4267B91C62CF6DC95067BCD524346099D1A491BB4CCFBDF13DC52DF4A556FA088229C3511858E667A699AD582DF328855D5E365654F511E791DF5D1F89AC431E6885ABD94AF388BAC589ABE5BEC5E4184990CCF972D8544A96D7912663CB20263178F2ED23CE616F244742A9906A145D6806C079E8AA31AA8B42355A0AC20D79F1BF7A2B5A23105554EBC44BB42CCDBA9896086DAE64BCB55C288687940A6114B42DEF5086DE3CE6A8F3A7FB6624B187B86E2A68B3CCB4706564D8F0F8A477E775E211E595ED83D1E1D7C5F261E332B1EB38E78744968BCBF75418D8DB78F6F3353B504B9CCC3C3225992B7C6ABF512E97CDB560C1BA9DB76CDA04067A2DAC2AD5D531EBCA34EF95BB0A74EA9901D75321F153B9AD6DB629294582ADF18E32D19E779BDBF21B7127D46E23AA8FB0B3A0A93FC62231584234D305AFCCAA68C227A2B826BC2E912A4CA6A7B17FBE163A39FFFF7F4D69E94011BD260BF7977A228DF50EDD67FD0DCF21722FC6722BE09C9FADBBA24BBAFD8B1677C7377A4AEE86DC776F4D56C3F5F0DEAC102FCACFA7BB0DDFCBE3716B7E44A9BB82B89F5C7AB3AA61635AB71B9E201AC27EE6F29D3A973F5F363C177E0CC05669053E7D0F97DE768566A1B3768800205EF0E0AECD7B0B6BE79665FD2DFA91E594FED9C9F23081538677E964CA744FA24B0BDA6DFA1ADA7E7EDA0A9C2900657CF82610942DF47C2F0B9924AE0836595363782729FC68435ACB6DFDC2159449B54CA3377CE2106AED3836DE090D3B69518A568C3BD7D0EE81C02F400A7AD30A985CE8E5A6BC0FE67C0191ECAB705CEB63AF0D581D33E3DB23BF601E3A1EEE9505606E2BBF6A4D35396153B8624AD93A3EEC1519BE4F6094EBBE42EC5EB9B9D677498D03BBD2AC74EDB87581D2D8E9DF0ADFEB77778D530DB6CC486CFAD06195B0CC87A8C6DEF9DEC24650D5FDECAD81D867476C38437B4F63B27660849579508FDAB2707BF71374B9A2BBE8C8A246168549018C5CC352882252439138A2E89AF70DB0729D39F101E084B90E4227C82E08ACF1315270A4D86F089357E92D0A966DBF9E924B2A9F3781EA7D3FED73001D5A4BA0A9EF38F096541A9F7654B2DD52142E7B0BCDED7B154BAEE5F6D4A49B3880F1494BBAF4CBD7710C60C85C9395F9017D847B77B099F6045FC4DD1F7760BE90F44D3EDE3734A568284329751F1E357C47010AEDFFF0DC9D72795EE1F0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201901190059259_AddGenresToGenreTable'
BEGIN
    INSERT INTO Genres VALUES ('Fantasy')
    INSERT INTO Genres VALUES ('Sci-Fi')
    INSERT INTO Genres VALUES ('Drama')
    INSERT INTO Genres VALUES ('Comedy')
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201901190059259_AddGenresToGenreTable', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400DD59CD6EE33610BE17E83B083AB545D6CACFA50DEC5D649DA408BAB18338097A0B1869EC10A52895A4027B8B3E590F7DA4BE4287FA172959B29B0DDA2240609333C3F9F9389C19FFF5C79FE30FEB90392F20248DF8C43D1A1DBA0E703F0A285F4DDC442DDF7DEF7E78FFF557E38B205C3B0F05DD89A6434E2E27EEB352F1A9E749FF1942224721F54524A3A51AF951E89120F28E0F0F7FF08E8E3C40112ECA729CF16DC2150D21FD825FA711F721560961D751004CE6EBB8B348A53A3312828C890F13F781069F375324BBA442AA8B35089F4A709D3346096AB300B6741DC279A488425D4FEF252C9488F86A11E30261779B18906E4998E64A6D38ADC8879A7378ACCDF12AC642949F4815853B0A3C3AC9FDE399EC7B79D92DFD871EBC404FAB8DB63AF5E2C4FD11B840CBCD934EA74C68AA2E0F8F52BE03A77DF7A0C4064248FF1D38D384A944C08443A2046107CE4DF2C4A8FF136CEEA25F804F78C2585D53D415F71A0BB87423A21884DADCC232D7FF2A701DAFC9E7998C255B8D2733EEE346A1F1333C9B3C312871E06D65E7F8BF108060C2BBE13AD764FD09F84A3D4F5CFCE83A97740D41B1924BBDE714AF12322991D887CCC80B5DA5BE378E431743245DE71658BA2D9F699C217B946E3DA6A140824B1185B7112B58F2F5C73B2256A050E1A865731125C23794197B154AB6622795B4077652BEFF3C76AEB83A396E014FCD110B1509404F83200A821BA21408AE6540EACA3EA0CDBE08D08C43105640249C13559EA53FDFD170C0CDE8046D81C97D415BE0B215B405A28780F64CCAC8A7A90E75D416E737CDB9E081B34D992C12A511180D44268D118B78F2C4FDCEF24F87C0F24A5602F33CBC55E0D8AB5963DF4C7C3715A108B6CAD0CFE922AC55CB2DC5A730BFA832478AA9BB16BA006584B4F2735375CBF4267B91C62CF6DC95067BCD524346099D1A491BB4CCFBDF13DC52DF4A556FA088229C3511858E667A699AD582DF328855D5E365654F511E791DF5D1F89AC431E6885ABD94AF388BAC589ABE5BEC5E4184990CCF972D8544A96D7912663CB20263178F2ED23CE616F244742A9906A145D6806C079E8AA31AA8B42355A0AC20D79F1BF7A2B5A23105554EBC44BB42CCDBA9896086DAE64BCB55C288687940A6114B42DEF5086DE3CE6A8F3A7FB6624B187B86E2A68B3CCB4706564D8F0F8A477E775E211E595ED83D1E1D7C5F261E332B1EB38E78744968BCBF75418D8DB78F6F3353B504B9CCC3C3225992B7C6ABF512E97CDB560C1BA9DB76CDA04067A2DAC2AD5D531EBCA34EF95BB0A74EA9901D75321F153B9AD6DB629294582ADF18E32D19E779BDBF21B7127D46E23AA8FB0B3A0A93FC62231584234D305AFCCAA68C227A2B826BC2E912A4CA6A7B17FBE163A39FFFF7F4D69E94011BD260BF7977A228DF50EDD67FD0DCF21722FC6722BE09C9FADBBA24BBAFD8B1677C7377A4AEE86DC776F4D56C3F5F0DEAC102FCACFA7BB0DDFCBE3716B7E44A9BB82B89F5C7AB3AA61635AB71B9E201AC27EE6F29D3A973F5F363C177E0CC05669053E7D0F97DE768566A1B3768800205EF0E0AECD7B0B6BE79665FD2DFA91E594FED9C9F23081538677E964CA744FA24B0BDA6DFA1ADA7E7EDA0A9C2900657CF82610942DF47C2F0B9924AE0836595363782729FC68435ACB6DFDC2159449B54CA3377CE2106AED3836DE090D3B69518A568C3BD7D0EE81C02F400A7AD30A985CE8E5A6BC0FE67C0191ECAB705CEB63AF0D581D33E3DB23BF601E3A1EEE9505606E2BBF6A4D35396153B8624AD93A3EEC1519BE4F6094EBBE42EC5EB9B9D677498D03BBD2AC74EDB87581D2D8E9DF0ADFEB77778D530DB6CC486CFAD06195B0CC87A8C6DEF9DEC24650D5FDECAD81D867476C38437B4F63B27660849579508FDAB2707BF71374B9A2BBE8C8A246168549018C5CC352882252439138A2E89AF70DB0729D39F101E084B90E4227C82E08ACF1315270A4D86F089357E92D0A966DBF9E924B2A9F3781EA7D3FED73001D5A4BA0A9EF38F096541A9F7654B2DD52142E7B0BCDED7B154BAEE5F6D4A49B3880F1494BBAF4CBD7710C60C85C9395F9017D847B77B099F6045FC4DD1F7760BE90F44D3EDE3734A568284329751F1E357C47010AEDFFF0DC9D72795EE1F0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201901202032499_ModifyVideoClassToLimitGenreToOneSelection'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[VideoGenres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]
    ALTER TABLE [dbo].[Videos] ADD [Genres_Id] [tinyint]
    CREATE INDEX [IX_Genres_Id] ON [dbo].[Videos]([Genres_Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genres_Id] FOREIGN KEY ([Genres_Id]) REFERENCES [dbo].[Genres] ([Id])
    DROP TABLE [dbo].[VideoGenres]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201901202032499_ModifyVideoClassToLimitGenreToOneSelection', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F10F4D416592B9797AD61EF22EB2485D18D134449D0B78096C60E518A52492AB0B7E897F5A19FD45FE850175AA2245B7637410B03864CCE0CE7723817F9EF3FFF1A7D5C45CC79012169CCC7EEC9E0D87580077148F972ECA66AF1EEBDFBF1C3B7DF8C2EC368E53C9674679A0E39B91CBBCF4A2543CF93C13344440E221A8858C60B3508E2C82361EC9D1E1FFFE89D9C7880225C94E538A3BB942B1A41F6037F4E621E40A252C2AEE310982CD671C7CFA43A3312814C480063F791865FD61324BBA242AACB1588804A709D7346096AE3035BB80EE13C5644A1AEC30709BE12315FFA092E1076BF4E00E9168469AECC86E186BCAF39C7A7DA1C6FC3588A0A52A9E2684F812767857F3C9BFD202FBBC67FE8C14BF4B45A6BAB332F8EDD9F800BB4DC3E693861425375797890F11D39EDBB47061B0821FD3972262953A98031875409C28E9CDB74CE68F033ACEFE35F818F79CA585553D415F76A0BB8742BE204845ADFC1A2D07F1ABA8E57E7F36C46C356E1C98DFBB45668FC0CCF2673060607DE56768EDFA5000413DE0DD7B926ABCFC097EA79ECE2A3EB5CD11584E54A21F58153BC4AC8A444DA3C64465EE832F3BD751CBA1862E93A77C0B26DF94C931CD9836CEB290B05125C8938BA8B59C952AC3FDD13B104850AC72D9B7E9C8AC05266E46D50B2153B99A403B093F1FDEFB133E5EAECB4053C1547F82A16809E06411484B74429105CCB80CC95BB80367B15A0598720AC8048B820CA9CA59FEF69D4E3667482B6C4E4A1A02D71D90ADA12D17D407B2E651CD04C872A6ACBF3EBE65CF2D0D9A64C1E0963044603914913C4229E3C767F68F8A743A0B9921B81451EAE0B3C1E0C4E6C332B06352F27964E4528E26D63EB976C1156AAE5A262352CEEAA2CC062ABAF85FAA0ACA86E5C5DD7BE617D9DBDCC640DF6C29B167BC5524B86414F85A40D5D760AD8115FA3EF4655AFA78832A21511A58E7686A99BD5026113C44DE3E3E59D4FD921791D2DD2E89A2409A6894ACB54AC387EDE2F4DDEF9FB3711512EC30B644B2F61B4352761D2234BB076F1E832D3637A2173A2B3C9248C1A6435C876E0A93CAA86CA66A44A9495E4FAB9762F5A9B1A5BD0C68957685784A93B3311EC5037F9B28E9530225A6AC8246669C4BBEAD036EEBCFDA8F2E72B4D0923CF52DC7691D7F0918555DBE3BDE251DC9DAF108F3C2FEC1F8F0EBED789C7AC118F59473CBA24D44A7055506DE3EDE35BCF542D413679B85F240D79AF78E954DBD60A5B29B7E9955E312E84B4855ABBC59CBCA75245293950A9BDB5C13C19D2ACB7994ADDAB993EAD97A9762D6A82A051926C120341539AAC12342ACAC1EE51BE511F7212D741E35FD0C7581BFCB554100D34C1C0FF8D4D1845D06F08AE09A70B902A9F0A5C9CA44FAD3701FF9DA9DC9332647D46F3379F6B14E56BAADDFA2FC662FE4244F04CC47711597D5F95D49C48F69C36DFDC1D992B760E727BFA6A7698AF7A4D6F213EAB5ED35BEBCCF6D48284C6E030E521ACC6EEEF19E7D099FEF264988F9C1B817771E81C3B7F1C16F90347B66206D97FA66A76F5878C7A8837101A0E8461B6944A60BE6C14E45B1CE2039A1056D3B9592DFA80583BD0C8B3772E2001AED15933ABCF415B0BA3116B5DA75DC6EF39B63647851E7369F7589A1712BC19731DD91C8E1DD359EBC8DA3DB1B6496E1F1D5F759AADD95F9948768EAFCD99F775E6D566138098A9BCF547BC4ABADC88D08D0D87A086164333E58BB8C4ADA551496265B66B5004D32239178A2E48A0703B0029B3176A8F84A5487219CD219CF29B5425A94293219AB3DA0B3A0DFE6DE76743795DE7D14D92BDFBFA1A26A09A5467F61BFE29A52C347A5F35337B97087DAB8A1AA663A9742D5BAE8DA459CC7B0A2ADC6792C13D44094361F286FBE4050ED1ED41C2675892605DF672DD427607A2EEF6D105254B412259C8D8F0EB7FB23CFD57D6877F0057A7FA34FC1A0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201901210242249_AddClassificationEnumToVideoClass'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Classifications] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201901210242249_AddClassificationEnumToVideoClass', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DD6EDB3614BE1FB0771074B50DA9E5A4375B60B768DDA430563B419C16BB2B68E9D82146511A490576873DD92EF6487B851DEA879648C996BDA4D850A0B0C4730ECFCF77FE94BFFFFC6BF47A1333EF1184A4091FFBE783A1EF010F9388F2F5D8CFD4EAC58FFEEB57DF7E33BA8AE28DF7A9A27BA9E99093CBB1FFA0547A1904327C8098C8414C4391C864A506611207244A828BE1F0A7E0FC3C0014E1A32CCF1BDD655CD118F2077C9C243C84546584CD9208982CDFE3C92297EACD490C3225218CFD4F34FAB29D20D93515525D6D40845482EFBD6194A0360B602BDF239C278A28D4F5F2A3848512095F2F527C41D8FD3605A45B11A6B9721B2E77E47DCD195E6873821D63252ACCA44AE223059EBF2CFD13D8EC2779D937FE430F5EA1A7D5565B9D7B71ECBF072ED072FBA6CB09139AAACBC3839CEFCC6B3F3D33D84008E97F67DE24632A1330E6902941D899779B2D190D7F86ED7DF22BF031CF18AB6B8ABAE259E305BEBA15490A426DEF6055EA3F8D7C2F68F20536A361ABF114C6BDDD2A347E8E779325038383602F3BC7FF2B010826CC0DDF9B91CD07E06BF530F6F1A7EF5DD30D44D59B52EA474E3195904989CCBD644E1EE93AF7BD751DBA1812E97B77C0F263F940D302D983FCE8731E0A24B816497C97B08AA57CFFF99E883528543869395C2499082D6546C10E257BB1934B3A013B39DFFF1E3B53AE5E5EB480A7E688854A04A0A7411005D12D510A04D7322077E521A0CD9F0568D625082B2012DE1165EED2BFEF697C7C664C189192AE685800D5E8AEB1DA3C3B2CBA331F2AB89F9A0F15E45BF3A14A967EF990C5B56CB00D9CCA6B46D6BBE672749A34053E75BE204A22106C8BA8AAE3B9198419C44B10A5810BCA7034F0BD4F8465F8387442D6A07E9FB0C8D09EEFA7BDD591446F1AFA0B370285AFEB2FDF48998434774EBD2055F16FDE77C5236F1F1876402DABDA0C9D4853741B467EECFFE018D021D054DB9DC0B2C536050E078373DBC89A416EDDC5A94811CA8DCF4A3470051BD5022E1C744A7CC9B20ED8EA6BA10B505656EDA0DED4DEB1BEC95E352987BDF4A6C55EB3D49261B2B746D296DD76753F105FA3EF4ED5A0A7882AA23511958E76F3689AD552424C1077336D500CB5D5F01B744CBFA3194953CCD5DA345CBEF116C5283C79B1387E3E8C0B1941285BC644A3ADB909FB195983758A575745093B0759125DED2651EC903520DB81A7EAAA062ADD485528ABC8F5EF465EB4CEABB6A09D13AFD1AE18BB726E22D8A176F9F2658430225AC68349C2B298778D18FBB88BC9B2CE5FBC71258C024B71DB4581E3230BABB6C77BC5A3CC9D27884751178E8F4707DFF3C463EEC463DE118F2E098DE9AA2EA871D05F9E3361D5653A875F1F37CD0AD8021E53DFFB21C490F7C2812EE16DDB9355CA5DAFF4C24E29A40D42DA2DE6E623952A5BD4894A1DAD0DD6DF88E633D354EA19DCCCA7BD4CB57B9C0B02A7D5D9240682A6E559AD6D54B699C35F7F9CBE5390F81E1AFF883EC69EB3D84A05F140130C16BFB109A308FA1DC18C70BA02A98AC1D8BF189E5F581F8FFE3B1F72022923D6E76BCE575F857178C73D42FDAB2F29FC9188F08188EF62B2F9BE2EC95D628FFC40F1D5DD91BBE2E0EE7FA4AFE6A7F9AAD7C21FE16FF5840BFF2958A8951C0B54CE6E33C5CD7533F67FCF392FBDE92F9F0DF399772330AD2FBDA1F7C769203A71AB2CD7A4E3D73E77F138651B45E882D0C8220C0BAFC4B59FBABDFD56501ED294B086CE6EE3E9930FDA81469E7DF20E52E01AE80DB3FA5CB4B7C71AB156661E32FEC8CDDADD667AACCEDD9B73D19330C9963AB2051C3B16C8D6ADBA7BA96E93DCBEDD3EEBC2DDB0BFB6341DDCB0DDB5FC79566A779E40CCD4FEE684789574BD13A167240E61032D8666CA5749855B4BA38AC4AA6C3350042B2C7923145D9150E171085836F5E7DCF27BD755BC8468CA6F3295660A4D8678C91A9F8735F8F7DD9F7F3768EA3CBA49F3A2FC1426A09A5437891BFE36A3B5EF7AD76E65EF12A1B3AA6C873A964AB7C5F5D6489A27BCA7A0D27DA618DC439C3214266FF8823CC229BA7D94F001D624DC566361B790C38168BA7DF48E92B520B12C65ECF8F111311CC59B57FF00D63EB3D37A1D0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201902082331554_VideoNameIsRequiredAndItHasASpecifiedLength'
BEGIN
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Name] [nvarchar](255) NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201902082331554_VideoNameIsRequiredAndItHasASpecifiedLength', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DD6EDB3614BE1FB0771074B50DA965BB28B005768BD64D0A63B5134469B1BB82968E1D6214A59154606FD893ED628FB457D8A1FE2C91922DBB69B161C0108BE71C9E9FEFFCB1FFFCF5F7E4D53662CE230849633E754783A1EB000FE290F2CDD44DD5FAD98FEEAB97DF7E33B90AA3ADF3B1A47BAEE99093CBA9FBA05472E97932788088C841440311CB78AD06411C79248CBDF170F893371A7980225C94E53893BB942B1A41F6037FCE621E40A252C21671084C16DFF1C4CFA43A4B12814C480053F7230D7FDFCD90EC9A0AA9AEB620022AC1755E334A501B1FD8DA7508E7B1220A75BDFC20C15722E61B3FC10F84DDEF1240BA35619A2BB3E1724FDED79CE1589BE3ED194B51412A551C9D2870F4BCF08F67B29FE565B7F21F7AF00A3DAD76DAEACC8B53F71D7081969B375DCE98D0545D1E1E647C174EFBE945850D8490FEEFC299A54CA502A61C522508BB706ED315A3C1CFB0BB8F7F053EE52963754D51573C6B7CC04FB7224E40A8DD1DAC0BFDE7A1EB784D3ECF64ACD86A3CB9716F760A8D5FE2DD64C5A0C28177909DE3FF4B010826CC0DD75990ED7BE01BF53075F14FD7B9A65B08CB2F85D40F9C622A219312A97DC9923CD24DE67BE33A7431C4D275EE8065C7F2812639B207D9D1A72C1448702DE2E82E66254BF1FDD33D111B50A870DC72E8C7A9080C6526DE1E2507B193493A033B19DFFF1E3B73AE9E8F5BC0537384AF6201E869104441784B9402C1B50CC85C790C68CBC3401BBF78D10B6827C21B710644C25BA2AACBF5DFF7343A5DD68C1129E99A0639722B6334789B67C74577264889FF7313A4CC81D60429B3A75F82A4512D3D4C03E7F29A91CDBEDB9C9C374D814F9D40089B1004DB21CCEA006F066101D10A4461A04F19CE0AAEF391B0147F0EAD9035A8DFC52CAC684787696F7524D19B15FDD88E40EEEBFAC7D752C601CD9C53AF5065FC9BF75DF1D03904863D508B32B74027D204DD86919FBA3F58067408ACCAEF5E60D1739B028783C1C834B266905D88714C5284F2CA67051AB882AD6A01174E3E05BE6451184CF5B5501F9491557BA837B5B7AC6FB2975DCB622FBC69B0D72C356454D95B2369CB6EB3DC1F896FA5EF5E55AFA78832A23511A58E6637699AD55242AA20EE875C2F9F72CB69D8EB1887270B922498ABB5F1B8F8E2F8F96C3C7BE69F3E3046B90C2F902D7363A56D75133638B201E314AF2E8B12760EB222BADACDC2C8226B40B6034FE5550D54DA912A515692EBBF1B79D13AC09A82F64EBC46BB226CD399896086DAE6CBB613C28868991766314B23DE35731CE2CE47CD3A7FFEC59630F10CC54D1779968F0CAC9A1EEF158F22779E201E795D383D1E1D7C5F261E4B2B1ECB8E787449684C5775418D83FEF2AC09AB2ED33AFCFAB86956C016F054F5BD1F422AF25E38D025BC6D9D324AB9ED955ED82984B44148BBA5BAF944A58A1675A652276B83F537A4D9CC34977A06AFE6D35EA69A3DCE0681D5EA4C920A8255CB335ADBA46833C79F83ACBE9393B80E1AFF883EC69EE3EFA48268A00906FE6F6CC628827E4FB0209CAE41AA7C3076C7C3D1D8784DFAEFBCEC785286ACCFF3CE57DF8D7178C73D427DD6D30A7F24227820E2BB886CBFAF4BB29F4F4E7CB1F8EAEEC85C71F431E0445F2D5B7C65BF0F7CFEF21FE2DFEA0997FF7370512B3F06C0AC3D678E5BEC76EAFE91715E3AF35F3E55CC17CE8DC014BF7486CE9FE701EACC0DB358994E5F01ED25E49CCD14610C42A38C302CC252092CC3569FBF1594073421ACA1B3DD84FAE486766025CF3C790B09700DFA86597D2E3AD86F2BB146961E33FEC42DDBDE6C7AACD1DD5B74DE9F30C9563AB2391C3B96C9D60DBB7BC16E93DCBEE97ED1E5BB617F6D813ABA6DDB2BFA9759AFEDD9023153FB0729C4ABA49BBD083D2F71081A68A968E67C1D97B835342A498CCAB60045B0C292D742D13509141E07806553BFF5166F5F57D10AC239BF4955922A3419A2156BBC1D6BF01FBA3F7B4368EA3CB949B2A2FC1426A09A5437891BFE26A5B537BE6BBBB27789D05955B4461D4BA55BE46657495AC6BCA7A0C27D5531B8872861284CDE709F3CC239BA7D90F01E3624D8952362B790E38168BA7DF296928D20912C64ECF9F12762388CB62FFF053CD05A2A971D0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201902082341077_VideoGenreIdRenamedAndIsRequired'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genres_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genres_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genres_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genres_Id] ON [dbo].[Videos]
    EXECUTE sp_rename @objname = N'dbo.Videos.Genres_Id', @newname = N'GenreId', @objtype = N'COLUMN'
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [GenreId] [tinyint] NOT NULL
    CREATE INDEX [IX_GenreId] ON [dbo].[Videos]([GenreId])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_GenreId] FOREIGN KEY ([GenreId]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201902082341077_VideoGenreIdRenamedAndIsRequired', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F10F4D41659CBF6628136B077917592C2E8DA09A2ECA26F0B5A1A3B44294A25A9C06ED12FEB433FA9BFD0A12EB4244ABE6D12741120B0C9994372E6CC7086FEF7EF7F46EFD611731E41481AF3B13BE8F55D0778108794AFC66EAA96AF7E74DFBDFDF69BD15518AD9D4FA5DC6B2D879A5C8EDD07A59273CF93C1034444F6221A8858C64BD50BE2C82361EC0DFBFD9FBCC1C003847011CB71467729573482EC0B7E9DC43C8044A584CDE210982CC671C6CF509D398940262480B1FB89867F6C2628764D8554576B100195E03A178C12DC8D0F6CE93A84F35811857B3DFF28C15722E62B3FC101C2EE3709A0DC9230AD959DE17C2B7EE871FA437D1C6FAB584205A954717424E0E075611FAFA97E92955D633FB4E0155A5A6DF4A9332B8EDD9F810B3C7973A5F309135AAACBC2BD4CEFCC699F3D33DC400AE9BF33679232950A1873489520ECCCB94D178C06BFC0E63EFE0DF898A78C55778A7BC5B9DA000EDD8A3801A13677B02CF63F0D5DC7ABEB794D45A356D1C90FF77EA3F0F0735C9B2C18181E783BD539FE2F01904C181BAE3323EB0FC057EA61ECE247D7B9A66B08CB9102F523A7184AA8A4446A2F32278F7495D9BEB11C9A1862E93A77C0B269F940939CD9BD6CEA73E60A14B816717417B352A518FF7C4FC40A146E386E99F4E354048DCD8CBC2D4B767227433A813B99DE57CF9D2957AF872DE4A918C257B100B43408A220BC254A81E01A033253EE23DA7C37D1866FDE1C44B423E98D3C0322E19228B3B8FE7C4FA3E3B132967D61B84D1891922E6990B3DF184407407D6E3F7467909531746A909571D41A6465041E1664695409B1E601A7F29A91D5F6C63A3AF6EA804F1D8448BD1004DB2055AB415277C20CA20588E2803E65586FB8CE27C252FCDAB75C5693FE3966A1911DEC96BDD59E446B1AF9A1ED81DCD6D5C10B29E38066C6A966B9D2FFF5F5AE78E8EC22C396A845AA9CA11169826643CF8FDD1FAC0374009A14BE052CEEED3AE0C06D26BD1B7E89E1ACC0B908F2FA63426440423B32D018617D04F324089DA808C38A4CA2D329577652A53CA009613BB6DDD0393015EB3D19F4E6CC2524C07516DD61FE439635F9C95EDB2CD1B0D33EB38CBC0A85ECEB1375146A189616F1C715AC554B3863BD5A44B42CD27993301AD407D5C863DBE452E78BC5B7BA7A596B58EA057F1BEA959336304CBEAC88B4E5D3A6D9F74494D9EF76AB96E7F6C45005A2DC633314EAC76A49DAC689DBD6C4CB7B93B287F13A9A98D18C240966C74A53538C387EDED14C5EF9C797F9518EE105B2A5DA37BB352B61594256D098C5A5CB6B00EF7BB220FA7E9984912556A36C079FCAA56AACB43D55B2AC14D79F6B71D1DA76B4847601708DE78A745AC82AAFA6AB6DBDACA7248C88962A6F12B334E2DDE9A95B3B6F10AAFAF9888D30F21A1BB7D29065232B6DD72D7E903F8AD879027FE479E1787F74E83D8F3FE6963FE61DFEE842A8D5C455A0DAC4E178E6DEA962755E46DD38566D5CC5B3265F987F56B66C8A98D54DD66C64C75191A9F6BF0359A92B17711D34D823720DD396BF910AA29E16E8F9BFB309A378DEADC08C70BA04A9F26AD61DF607C3C633D2FFE749C793326487BCEBBC78538C153716FFEA8BDE54F82311C10311DF4564FD7D15C97E3739F2A9E2C5CD919962EF2BC091B69AB7D8CA7E18F8F2AE3FC4CFEA09BA7EC309ABBA9D6281BD1EBB7F667AE7CEF4D7CF85EA9973233026CF9DBEF3D7533D18ECA765179B4EEC098B92FB459BB646F17B4A0F7A52DFD755973D4FA7F795F476763D7D40F3D6DDBBE5571AC6E542FB356771470BD3DAD775B7756DC8EDFDD5B3B67CB5F357CAF6BD3D9EDD183E4F53679723C899CA8F57C85649575B08FD531687A0C6162333E5CBB8646D6347A54823B1CD40114CCAE44228BA2481C2E90030D5E977E1E28DEB2A5A4038E537A94A5285478668C16AEFCC9AFCBBD6CF3AD7FA9E47374996489FE208B84DAAEF951BFE3EA595B7BCEB966CDC01A1A3AAB84DB52F95BE55571B83348FF9814085F94C32B887286108266FB84F1EE194BD7D94F0015624D894556537C87E47D4CD3EBAA4642548240B8CAD3E7E450E87D1FAED7FED5F5CC9C31D0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201902082345553_ClassificationTypeChangeToByte'
BEGIN
    ALTER TABLE dbo.Videos DROP CONSTRAINT[DF__Videos__Classifi__52593CB8]
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Classifications] [tinyint] NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201902082345553_ClassificationTypeChangeToByte', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F10F4D41659CBF6628136B077917592C2E8DA09A2ECA26F0B5A1A3B44294A25A9C06ED12FEB433FA9BFD0A16E9648C9B74D822E020436397348CE9C19CED0FFFEFDCFE8DD3A62CE230849633E7607BDBEEB000FE290F2D5D84DD5F2D58FEEBBB7DF7E33BA0AA3B5F3A9947BADE55093CBB1FBA05472EE7932788088C85E440311CB78A97A411C79248CBD61BFFF9337187880102E6239CEE82EE58A46907DC1AF93980790A894B0591C0293C538CEF819AA332711C8840430763FD1F08FCD04C5AEA990EA6A0D22A0125CE7825182BBF1812D5D87701E2BA270AFE71F25F84AC47CE5273840D8FD2601945B12A6B5B2339C6FC50F3D4E7FA88FE36D154BA820952A8E8E041CBC2EECE399EA2759D9ADEC8716BC424BAB8D3E7566C5B1FB3370812737573A9F30A1A5BA2CDCCBF4CE9CF6D9B38A1B4821FD77E64C52A65201630EA912849D39B7E982D1E017D8DCC7BF011FF394B1FA4E71AF38D718C0A15B112720D4E60E96C5FEA7A1EB784D3DCF54ACD46A3AF9E1DE6F141E7E8E6B9305838A07DE4E758EFF4B002413C686EBCCC8FA03F0957A18BBF8D175AEE91AC272A440FDC82986122A2991DA8BCCC9235D65B637964313432C5DE70E58362D1F689233BB974D7DCE5C8102D7228EEE6256AA14E39FEF895881C20DC72D937E9C8AC0D8CCC8DBB264277732A413B893E97DF5DC9972F57AD8429E9A217C150B404B83200AC25BA21408AE312033E53EA2CD77136DF8E6CD41443B92DEC83320122E89AA16D79FEF69743C56C6B22F0CB7092352D2250D72F65706D101D09CDB0FDD1964650C9D1A64651CB5065919818705591AD542CC3CE0545E33B2DADE5847C75E13F0A98310A91782601BA46ACDE34D1FCC205A8028CEE75386E586EB7C222CC5AF7DCB630DE99F631656B283DDB2B7DA9168CC4A7E683B2037757DF042CA38A0996DEA49AE747F73BD2B1E3ABBB8B0E56991296768439AA0D5D0F163F707EB001D805506DF0216D7761370E09A39EF865F62342B702E82BCFC98101990D00E0C3446D81CC1340942E729C2B02093E873CA959D53290F6842D88E6D1B3A076662BDA70ADD9CB98404B84EA23BCC7FC8B2557AB2D7AE9630ECB4CF2C23AF4621FBF6441D851A154B8BF0E30AD6AA259AB15C2D025A16D9DC248C06F54119696C9B5B9A7CB1F8D6542F4B0D4BBDE0AFA15E3BA98151A5CB9A485B3A35CDBE27A2AAFD6EB76A796E4F0CD520CA3D9AA1D03C564BCEAE9CB8ED4CBCBC35295B18AFA38719CD48926072ACF534C588E3E70DCDE4957F7C951FE5185E205B8AFD6AB7D54A5895901518B3B874790BE0754F16445F2F9330B2C41A94EDE053B9548395B6A74A9695E2FA73232E5ABB8E96D02E00AEF15C914E0B59E165BADAD6CB5A4AC2886829F226314B23DE9D9EBAB5F3FEA0AE9F8FD80823CFD8B895862C1B5969BB69F183FC51C4CE13F823CF0BC7FBA343EF79FC31B7FC31EFF0471742A324AE0335260EC7ABEE9D3A56E765D48D6395C6753C6BF285F967654B53A45ABDCA9A46761C15996AFF339095BA7211D741833D22D7306DF91BA920EA69819EFF3B9B308AE7DD0ACC08A74B902A2F66DD617F30345E91FE3F2F3A9E94213BE459E7C57B62ACB8B1F6575FF4A4C21F89081E88F82E22EBEFEB48F6B3C9912F152F6E8ECC147B1F018EB4D5BCC556F6BBC09737FD217E564FD0F4579CB0AADB2916D8EBB1FB67A677EE4C7FFD5CA89E39370263F2DCE93B7F3DD57BC161D4EC62D4897D615176BF68E36614C0A7F4A127F57E5DB5D9F3747B5F497F67D7D4073470DDFD5B7EAD616C2EB45F731677B431ADBD5D776BD786DCDE633D6BDBD7387FAD74DFDBE7D9CDE1F334767649829CA9FD7E856C9574B585D0BF6671081A6CA964A67C1997AC3576548A18C96D068A6062261742D12509144E0780E94E3F0D17EF5C57D102C229BF4955922A3C32440BD6786AD6E4DFB57ED6BD36F73CBA49B264FA1447C06D527DB7DCF0F729ADBDE75DB764E30E081D55C58DAA7DA9F4CDBADA5448F3981F085498AF4A06F710250CC1E40DF7C9239CB2B78F123EC08A049BB2B2EC06D9EF88A6D9479794AC04896481B1D5C7AFC8E1305ABFFD0F567BEA54C61D0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201902082354110_GenreNameIsRequiredAndHasSpecifiedLength'
BEGIN
    ALTER TABLE [dbo].[Genres] ALTER COLUMN [name] [nvarchar](255) NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201902082354110_GenreNameIsRequiredAndHasSpecifiedLength', N'VidzyCodeFirstExercise.Migrations.Configuration',  0x1F8B0800000000000400D559DB6EE336107D2FD07F10F458642DDB8B05DAC0DE45D64916466B2788B28BBE2D6869EC10A52895A402BB45BFAC0FFDA4FE4287BA592225DF72411701029B9C392467CE0C67E87FFFFE67F4611D31E71184A4311FBB835EDF7580077148F96AECA66AF9E647F7C3FBEFBF1B5D85D1DAF952CABDD572A8C9E5D87D502A39F73C193C4044642FA2818865BC54BD208E3C12C6DEB0DFFFC91B0C3C400817B11C677497724523C8BEE0D749CC0348544AD82C0E81C9621C67FC0CD599930864420218BB5F68F8C7668262D7544875B506115009AE73C128C1DDF8C096AE43388F1551B8D7F3CF127C2562BEF2131C20EC7E9300CA2D09D35AD919CEB7E2871EA73FD4C7F1B68A2554904A154747020EDE16F6F14CF593ACEC56F6430B5EA1A5D5469F3AB3E2D8FD045CE0C9CD95CE274C68A92E0BF732BD33A77DF6ACE2065248FF9D399394A954C09843AA046167CE6DBA6034F81936F7F16FC0C73C65ACBE53DC2BCE350670E856C40908B5B98365B1FF69E83A5E53CF33152BB59A4E7EB88F1B85879FE3DA64C1A0E281B7539DE3FF1200C984B1E13A33B2FE05F84A3D8CDDE1BB77AE734DD710962305EA674E3194504989F48055E7E491AE326718EBA3CD2196AE73072C9B960F34C9A9DECBA6BE66BE41816B114777312B558AF1AFF744AC40E109E296493F4E45606C66E46D69B3934C19D20964CAF4BE79324DB97A3B6CF16BCD10BE8A05A0A5411005E12D510A04D7189099721FF3E6AFC33C6355E41910099744558BEBCFF7343A1E2B63D913E36FC288947449839CFD9541740034E79E1064650C9D1A64651CB5065919818705591AD542CC3CE0545E33B2DA5E6147C75E13F0B98310A91782601BA46ACDE34D1FCC205A8028CEE75386F587EB7C212CC5AF7DCB630DE94F310B2BD9C16ED95BED483466253FB41D909BBA3E7821651CD0CC36F52457BABFB9DE150F9D5D5CD8F2B4C89433B4214DD06AE8F8B1FB8375800EC02A836F018B7BBC093870CD9C77C32F319A153817415E8F4C880C486807061A236C8E609A04A1F3146158A149F439E5CACEA9940734216CC7B60D9D0333B1DE53856ECE5C42025C27D11DE63F64D92A3DD96B574B1876DA67969157A3907D7BA28E428D8AA545F871056BD512CD58BF16012D8B6C6E124683FAA08C34B6CD2D4DBE587C6BAA97A586A55EF0D750AF9DD4C0A8D2654DA42D9D9A66DF1351D57EB75BB53CB727866A10E51ECD50681EAB2567574EDCB62A5EDEAB943D8DD7D1D48C6624493039D69A9C62C4F1F30E67F2C63FBEEC8F720C2F902DD57FB5DB6A25AC4AC80A8C595CBABC05F0BA270BA2AF97491859620DCA76F0A95CAAC14ADB5325CB4A71FDB91117AD6D484B681700D778AE48A785ACF0325D6DEB653D266144B414799398A511EF4E4FDDDA79C350D7CF476C8491676CDC4A43968DACB4DDB4F841FE2862E719FC91E785E3FDD1A1F732FE985BFE9877F8A30BA15112D7811A1387E355F74E1DABF332EAC6B14AE33A9E35F9CAFCB3B2A52952AD5E654D233B8E8A4CB5FF5DC84A5DB988EBA0C11E916B98B6FC8D5410F5B440CFFF9D4D18C5F36E056684D325489517B3EEB03F181ACF4AFF9F271E4FCA901DF2CEF3EA3D3156DC58FBAB27BDB1F04722820722EC5E7727E891AF16AF6E9ACC2C7B1F048EB4DBFCE9763BE80120C4CFEA191E002A7E5895EE148BEDF5D8FD33D33B77A6BF7E2D54CF9C1B81F179EEF49DBF9EEBEDE0309A7631EAC41EB128C15FB589338AE1537AD293FAC0AE3AED653ABF6FA4D7B3EBEB039AB9EE5E2EBFE2303617DAAF398B3B5A9AD63EAFBBCD6B436EEFB75EB4056C9CBF56C6EFEDF9EC46F1659A3CBB3C41CED47EDC42B64ABADA42E89FBA38040DB6543253BE8C4BD61A3B2A458CE43603453031930BA1E892040AA703C074A79F898B37AFAB6801E194DFA42A49151E19A2056B3C3B6BF2EF5A3FEB649B7B1EDD2459327D8E23E036A9BE5B6EF8C794D6DEF6AE5BB27107848EAAE246D5BE54FA665D6D2AA479CC0F042ACC5725837B88128660F286FBE4114ED9DB6709BFC08A049BB2CAEC06D9EF88A6D9479794AC04896481B1D5C7AFC8E1305ABFFF0FA74E5DE3E31D0000 , N'6.1.3-40302')
END

